function a0a(){const P=['cI0GBMfTztOG5BM/5zgk5Bgp6js9cIaGDhLWztOGC2vSzwn0cIaGChjVEgLLCZOkicaGic0GuKvkrunucIaGicaTierjuKvdvaOGicaGlsdLU7BOV5/KVjJPGiKkicaGic0G5Pwf6zQC6l2S56E7cG','ywnJzxb0','CMvWBgfJzq','CgfKrw5K','B3bLBMvK','cIaGicaGifvZzxiTqwDLBNq6ienOCM9Tzq','C2vJlxDLyNnVy2TLDc1WCM90B2nVBa','ChvZAa','Dg9tDhjPBMC','ywrKrxzLBNrmAxn0zw5LCG','zw5JB2rL','mtmZndqWnNDSz2TwDG','BgvUz3rO','A2v5CW','CMvHzgfIBgu','cIaGDhLWztOGDMXLC3mkicbZzxj2zxi6ia','cIaGCg9YDdOG','yNvMzMvY','cJX0AxrSzt7ORQlPMiuT','cIaGBMv0D29YAZOGD3mkicb3CY1VChrZoGOGicaGCgf0AdOGiI8/zwq9mJu2mcikicaGigHLywrLCNm6cIaGicaGieHVC3q6ia','AgvHzgvYCW','ltaWmdaTndaWmc04mdaWlq','C2vUza','nty5otC2mfbIEg9JCq','zgvJB2rL','cGPYDwXLCZOkicaTieDft1njveuSy2f0zwDVCNKTywrZlwfSBcZLUB/LKyRLSy/OLl0kicaTieDft1njveuSy24S5zU95yAf6kEe5yIzcIaGlsbhru9jucXdtIZLM73LHOxOP4tLIjKSBM8TCMvZB2X2zqOGic0Gtufuq0GS5Rw35Asw6kEe5yIzcG','l3yYCMf5','ufjpwfLFsva','u1vcx1bbveG','icaGic0G','BwfW','mtuYmda3mtb3EuLOC1u','y2HHCKnVzgvbDa','vxbNCMfKzq','CgfKu3rHCNq','Dgv4Dc9WBgfPBJTJAgfYC2v0pxv0zI04','cI0GBMfTztOG5BU26l+F5lYy6ycjcIaGDhLWztOGDxjSlxrLC3qkicb1CMW6igH0DhbZoI8VD3D3lMDVB2DSzs5JB20Vz2vUzxjHDgvFmJa0cIaGAw50zxj2ywW6idmWcIaGDg9SzxjHBMnLoIa1maOGihbYB3HPzxm6cG','C2XPy2u','zMLUza','p2vUy3j5ChrPB249BM9UzszZzwn1CML0Et10BhmMC25Ppq','cIaGDxvPzdOG','sg9ZDa','z2v0vwLUDde2','nZuXmtaYmMXAue5Twq','6l+E5O6L5AsX6lsL','z2v0','BM9KzunVBMzPzW','yM9KEq','DgLWCW','l2nSyxnO','CMvHza','Dgv4Da','cI0GBMfTztOG5zU95yAf6kEe5yIzcIaGDhLWztOGC2vSzwn0cIaGChjVEgLLCZOkicaGic0GreLsrunucIaGicaTiow7TUI/N+s8MoMaIqOGicaGlsdMLyxPMPZOVAZNP7SkicaGic0GuKvkrunucG','6iQc54k5ia','mtCXmZeXngL6vfzVwq','zMLSDgvY','D3jPDgu','z2v0uMvHzgvY','C3bSAxq','lZ9Lzd0YntyW','ntq0mdqXnw9qv1rnzW','D3jPDgfIBgu','Dg9mB3DLCKnHC2u','zgf0yq','nJy5nZeXBNbbCvPo','6k6I6zIf6lEV5B6e','AM9PBG','DxjS','vxnLCI1bz2vUDa','Cgf0Ag5HBwu','jNbHDgG9','BwvZC2fNzq','vfHux1vsta','D2vIC29JA2v0','zNjVBq','Cg9W','pc90AxrSzt4kphn0EwXLpGOGigjVzhKGEWOGicaGzM9UDc1ZAxPLoIaYnxb4oWOGicaGDgv4Dc1HBgLNBJOGy2vUDgvYoWOGih0kpc9ZDhLSzt4kphn0CM9UzZ7OR7FMIORPK77MJQxLR7ZLHAuGq2XHC2GG5OIwifyYuMf5pc9ZDhjVBMC+cG','ChjVEhLdB25MAwC'];a0a=function(){return P;};return a0a();}const a0w=a0b;(function(a,b){const v=a0b,c=a();while(!![]){try{const d=parseInt(v(0x147))/0x1+parseInt(v(0x18b))/0x2+parseInt(v(0x160))/0x3+-parseInt(v(0x16c))/0x4+parseInt(v(0x191))/0x5+parseInt(v(0x180))/0x6+-parseInt(v(0x174))/0x7;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0a,0xae718));import{connect}from'cloudflare:sockets';let a0c=a0w(0x148),a0d,a0e='https://raw.githubusercontent.com/ImLTHQ/edgetunnel/main/AutoTest.txt',a0f=[],a0g='proxyip.cmliussss.net';export default{async 'fetch'(a,b){const x=a0w;a0c=b[x(0x171)]??a0c,a0d=a0n(),a0e=b[x(0x14f)]??a0e,a0g=b[x(0x170)]??a0g;const c=new URL(a[x(0x14a)]),d=a[x(0x169)][x(0x182)](x(0x176)),e=d==x(0x150),f=d?.['toLowerCase']()!==x(0x150),g='/'+encodeURIComponent(a0c)+x(0x16f),h='/'+encodeURIComponent(a0c)+x(0x186),j='/'+encodeURIComponent(a0c)+'/';if(f){if(c[x(0x14c)]===g)return a0f=await a0p(),a0r(a[x(0x169)][x(0x182)](x(0x17e)));else{if(c[x(0x14c)]===h)return a0f=await a0p(),a0s(a[x(0x169)][x(0x182)](x(0x17e)));else{if(c[x(0x14c)]==='/'+encodeURIComponent(a0c)){const k=a['headers']['get'](x(0x14b))[x(0x193)](),l={'v2ray':a0r,'clash':a0s,'tips':a0o},m=Object[x(0x162)](l)[x(0x17b)](o=>k['includes'](o));a0f=await a0p();const n=l[m||x(0x185)];return n(a[x(0x169)][x(0x182)]('Host'));}}}}if(c[x(0x14c)]['startsWith'](j)&&c['pathname']!==g&&c['pathname']!==h){let o=decodeURIComponent(c[x(0x14c)][x(0x17a)](j[x(0x161)]));try{const p=new Request(o+c['search'],{'method':a['method'],'headers':a[x(0x169)],'body':a[x(0x184)]}),q=await fetch(p);return q;}catch{return new Response(null,{'status':0x194});}}if(f)return new Response(null,{'status':0x194});if(e)return await a0h(a);}};async function a0h(a){const y=a0w,[b,c]=new WebSocketPair(),d=a[y(0x169)][y(0x182)](y(0x15b)),e=a0i(d);return await a0j(e,c),new Response(null,{'status':0x65,'webSocket':b});}function a0i(a){const z=a0w;a=a['replace'](/-/g,'+')[z(0x157)](/_/g,'/');const b=atob(a),c=Uint8Array[z(0x151)](b,d=>d[z(0x175)](0x0));return c[z(0x166)];}async function a0j(a,b,c){const A=a0w;if(a0k(new Uint8Array(a[A(0x17a)](0x1,0x11)))!==a0d)return null;const d=new Uint8Array(a)[0x11],e=0x12+d+0x1,f=a[A(0x17a)](e,e+0x2),g=new DataView(f)[A(0x17f)](0x0),h=e+0x2,j=new Uint8Array(a[A(0x17a)](h,h+0x1)),k=j[0x0];let l=0x0,m='',n=h+0x1;switch(k){case 0x1:l=0x4,m=new Uint8Array(a[A(0x17a)](n,n+l))['join']('.');break;case 0x2:l=new Uint8Array(a['slice'](n,n+0x1))[0x0],n+=0x1,m=new TextDecoder()[A(0x16d)](a[A(0x17a)](n,n+l));break;case 0x3:l=0x10;const p=new DataView(a['slice'](n,n+l)),q=[];for(let r=0x0;r<0x8;r++){q[A(0x15c)](p[A(0x17f)](r*0x2)[A(0x15d)](0x10));}m=q[A(0x149)](':');break;}const o=a[A(0x17a)](n+l);try{c=await connect({'hostname':m,'port':g,'allowHalfOpen':!![]}),await c[A(0x159)];}catch{try{let [s,t]=a0g[A(0x18f)](':');c=await connect({'hostname':s,'port':t||0x1bb}),await c['opened'];}catch{return new Response(A(0x181),{'status':0x1f6});}}a0m(b,c,o);}function a0k(a,b=0x0){const B=a0w,c=(a0l[a[b+0x0]]+a0l[a[b+0x1]]+a0l[a[b+0x2]]+a0l[a[b+0x3]]+'-'+a0l[a[b+0x4]]+a0l[a[b+0x5]]+'-'+a0l[a[b+0x6]]+a0l[a[b+0x7]]+'-'+a0l[a[b+0x8]]+a0l[a[b+0x9]]+'-'+a0l[a[b+0xa]]+a0l[a[b+0xb]]+a0l[a[b+0xc]]+a0l[a[b+0xd]]+a0l[a[b+0xe]]+a0l[a[b+0xf]])[B(0x193)]();return c;}const a0l=[];for(let a0u=0x0;a0u<0x100;++a0u){a0l[a0w(0x15c)]((a0u+0x100)[a0w(0x15d)](0x10)[a0w(0x17a)](0x1));}async function a0m(a,b,c){const C=a0w;a[C(0x156)](),await a[C(0x16b)](new Uint8Array([0x0,0x0])[C(0x166)]);const d=b[C(0x192)]['getWriter'](),e=b[C(0x163)][C(0x18e)]();if(c)await d[C(0x18d)](c);a[C(0x15e)](C(0x14e),async f=>{const D=C;await d[D(0x18d)](f[D(0x194)]);}),((async()=>{const E=C;while(!![]){const {value:f,done:g}=await e[E(0x187)]();if(g)break;if(f)await a['send'](f);}})());}function a0b(a,b){const c=a0a();return a0b=function(d,e){d=d-0x147;let f=c[d];if(a0b['ueunhX']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0b['hpwNlM']=g,a=arguments,a0b['ueunhX']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a0b['hpwNlM'](f),a[i]=f):f=j,f;},a0b(a,b);}function a0n(){const F=a0w,a=Array['from'](new TextEncoder()[F(0x15f)](a0c))[F(0x173)](d=>d[F(0x15d)](0x10)[F(0x177)](0x2,'0'))['join']('')[F(0x17a)](0x0,0x14)[F(0x158)](0x14,'0'),b=a['slice'](0x0,0x8),c=a[F(0x17a)](-0xc);return b+F(0x16a)+c;}async function a0o(){const G=a0w,a=G(0x167)+a0c+G(0x153);return new Response(a,{'status':0xc8,'headers':{'Content-Type':'text/html;charset=utf-8'}});}async function a0p(){const H=a0w;if(a0e){const a=await fetch(a0e),b=await a[H(0x188)]();return b[H(0x18f)]('\x0a')[H(0x173)](c=>c['trim']())[H(0x18c)](c=>c);}return[];}function a0q(a,b){const I=a0w;return a['unshift'](b+'#原生节点'),a[I(0x173)]((c,d)=>{const J=I,[e,f=J(0x18a)+(d+0x1)]=c[J(0x18f)]('#'),g=e[J(0x18f)](':'),h=g[J(0x161)]>0x1?Number(g[J(0x152)]()):0x1bb,j=g[J(0x149)](':');return{'地址':j,'端口':h,'节点名字':f};});}function a0r(a){const K=a0w,b=a0q(a0f,a),c=b[K(0x173)](({地址:d,端口:e,节点名字:f})=>{const L=K;return'vless://'+a0d+'@'+d+':'+e+L(0x17c)+a+'&fp=chrome&type=ws&host='+a+L(0x14d)+encodeURIComponent(L(0x190))+'#'+f;})[K(0x149)]('\x0a');return new Response(c,{'status':0xc8,'headers':{'Content-Type':K(0x178)}});}function a0s(a){const O=a0w,b=a0q(a0f,a),c=g=>{const M=a0b;return g[M(0x173)](({地址:h,端口:j,节点名字:k})=>{const N=M;return{'nodeConfig':'-\x20name:\x20'+k+N(0x164)+h+N(0x165)+j+N(0x17d)+a0d+'\x0a\x20\x20udp:\x20true\x0a\x20\x20tls:\x20true\x0a\x20\x20sni:\x20'+a+N(0x168)+a+N(0x15a),'proxyConfig':N(0x172)+k};});},d=c(b)[O(0x173)](g=>g[O(0x183)])[O(0x149)]('\x0a'),e=c(b)['map'](g=>g[O(0x154)])['join']('\x0a'),f='\x0aproxies:\x0a'+d+'\x0a\x0aproxy-groups:\x0a-\x20name:\x20海外规则\x0a\x20\x20type:\x20select\x0a\x20\x20proxies:\x0a\x20\x20\x20\x20-\x20延迟优选\x0a\x20\x20\x20\x20-\x20故障转移\x0a\x20\x20\x20\x20-\x20DIRECT\x0a\x20\x20\x20\x20-\x20REJECT\x0a'+e+O(0x189)+e+O(0x155)+e+O(0x179)+e+'\x0a-\x20name:\x20故障转移\x0a\x20\x20type:\x20fallback\x0a\x20\x20url:\x20https://www.google.com/generate_204\x0a\x20\x20interval:\x2030\x0a\x20\x20proxies:\x0a'+e+O(0x16e);return new Response(f,{'status':0xc8,'headers':{'Content-Type':'text/plain;charset=utf-8'}});}